<openerp><data>
  <template id="assets_frontend_rutas" inherit_id="website.layout" name="Oferta">
  <xpath expr="." position="inside">
      <link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />
      <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
      <script type="text/javascript">
          odoo.define('web.csrf', function (require) {
          var token = "<t t-esc="request.csrf_token(None)"/>";
          require('web.core').csrf_token = token;
          require('qweb').default_dict.csrf_token = token;
          });
      </script>

      <!--
            <script type="text/javascript" src="http://maps.google.com/maps/api/js?"></script>
      <link href="https://developers.google.com/_static/acc879e135/css/devsite-google-blue.css" rel="stylesheet" type="text/css" />
      <script style="" type="text/javascript" src ="https://maps.googleapis.com/maps/api/js?key=AIzaSyBlHZT6yGwsMKmsUeLpnnJLgcv06cfYXmA"></script>
      <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>
      <script style="" type="text/javascript" src ="https://maps.googleapis.com/maps/api/js?key=AIzaSyBlHZT6yGwsMKmsUeLpnnJLgcv06cfYXmA&sensor=false"></script>
      <script style="" type="text/javascript" src="/mi_carro_tu_carro_idu/static/src/js/draggable.js"></script>
      -->
      <script type="text/javascript" src="/mi_carro_tu_carro_idu/static/src/js/maps_wp.js"></script>

      <!-- <script type="text/javascript" src="/mi_carro_tu_carro_idu/static/src/js/maps_crear.js"></script> -->
  </xpath>
</template>

<!-- ################## Modificar Ruta  ##################### -->

  <template id="misrutas">
    <t t-call="website.layout">
      <t t-set="title">Offer</t>
      <div class="oe_structure">
        <div class="container">
          <t t-foreach="ofertas" t-as="offer">
            <p><a t-attf-href="/misrutas/{{ slug(offer) }}">
              <t t-esc="offer.descripcion"/></a>
            </p>
          </t>
        </div>
      </div>
    </t>
  </template>
  <template id="showrutas">
    <t t-call="website.layout">
      <t t-set="title">Offer</t>
      <div class="oe_structure"/>
      <div class="oe_structure">
        <div class="container">
			<label>
            <h2>Ruta No <span t-field="person.id"/></h2>
            </label>
            <form action="/misrutas/info_extended/" method="post" class="form-horizontal mt32" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
            <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label">Descripcion</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.descripcion"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Hora de Viaje</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.hora_viaje"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Tipo de Transporte</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.tipo_transporte"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Vacantes</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.vacantes"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Comentarios</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.comentario"/>
                </div>
                <t t-foreach="person.pasajeros_ids" t-as="pasajero">
                
                    <label class="col-md-3 col-sm-4 control-label">Pasajero</label>
                    <div class="col-md-7 col-sm-8">
                        <p class="form-control-static" t-esc="pasajero.name"/>
                    </div>
                    <label class="col-md-3 col-sm-4 control-label">Celular</label>
                    <div class="col-md-7 col-sm-8">
                        <p class="form-control-static" t-esc="pasajero.partner_id.phone"/>
                    </div>
                </t>
                <div>
                    <input type="hidden" class="form-control" name="rutas_id" t-att-value="person.id"/>
                </div>
                <script type="text/javascript">
                    var aDiv = document.getElementById("DivContenedor");
                    var prueba = "<t t-esc="person.route"/>";
                </script>
                <div id="DivContenedor"></div>
                <body onLoad="load()">
<!--                 <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                <input type="button" value="Refrescar Mapa" onClick="setroute()"/>
                </div> -->
                <div class="container">
		        <!-- <div id="mappy" style="width:100%; height:400px; margin:0px auto 0px auto; border:1px solid #cecece; background:#F5F5F5"></div>-->
                <div class="span4" id="mappy" style="width: 100%; height: 300px"></div>
		        <div><p><span id="str"></span></p></div>
                <div>
                <input type="hidden" class="form-control" name="rutas_wp" id="otraprueba" value="Primera prueba"></input>
                </div>
                </div>
                <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                    <input type="button" class="btn btn-primary btn-lg" value="Borrar Cruces" onClick="setroute()"/>
                </div>
                </body>
		        <t t-foreach="kwargs" t-as="kwarg">
                <input type="hidden" t-att-name="kwarg[0]" t-att-value="kwarg[1]"/>
                </t>
                <div class="form-group">
		        <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                    <button class="btn btn-primary btn-lg">Actualizar Ruta</button>
                </div>
                </div>
            </div>
            </form>
        </div>
      </div>
      <div class="oe_structure"/>
    </t>
  </template>
<template id="rutas_update" name="Ruta Actualizada">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="oe_structure"/>
        <div class="container">
            <h1>Ruta Actualizada!</h1>
            <div class="row">
                <div class="col-md-8">
                    <div class="alert alert-success">
                        Tu Ruta ha sido actualizada correctamente!.
                        <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                    </div>
            </div>
        </div>
        <div class="oe_structure"/>
      </div>
      </div>
    </t>
</template>

<template id="rutas_not_update" name="Ruta No Actualizada">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="oe_structure"/>
        <div class="container">
            <h1>Ruta No Actualizada!</h1>
            <div class="row">
                <div class="col-md-8">
                    <div class="alert alert-success">
                        Tu Ruta no ha podido ser actualizada.
                        <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                    </div>
            </div>
        </div>
        <div class="oe_structure"/>
      </div>
      </div>
    </t>
</template>

<!-- ################## Ver Rutas  ##################### -->

  <template id="index">
    <t t-call="website.layout">
      <t t-set="title">Offer</t>
      <div class="oe_structure">
        <div class="container">
          <t t-foreach="ofertas" t-as="offer">
            <p><a t-attf-href="/rutas/{{ slug(offer) }}">
              <t t-esc="offer.descripcion"/></a>
            </p>
          </t>
        </div>
      </div>
    </t>
  </template>
  <template id="descripcion">
    <t t-call="website.layout">
      <t t-set="title">Offer</t>
      <div class="oe_structure"/>
      <div class="oe_structure">
        <div class="container">
            <label>
            <h2>Ruta No <span t-field="person.id"/></h2>
            </label>
            <form action="/rutas/info_extended/" method="post" class="form-horizontal mt32" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
            <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label">Descripcion</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.descripcion"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Hora de Viaje</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.hora_viaje"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Tipo de Transporte</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.tipo_transporte"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Vacantes</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.vacantes"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Comentarios</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.comentario"/>
                </div>
                <t t-foreach="person.pasajeros_ids" t-as="pasajero">
                
                    <label class="col-md-3 col-sm-4 control-label">Pasajero</label>
                    <div class="col-md-7 col-sm-8">
                        <p class="form-control-static" t-esc="pasajero.name"/>
                    </div>
                    <label class="col-md-3 col-sm-4 control-label">Celular</label>
                    <div class="col-md-7 col-sm-8">
                        <p class="form-control-static" t-esc="pasajero.partner_id.phone"/>
                    </div>
                </t>
                <div>
                    <input type="hidden" class="form-control" name="rutas_id" t-att-value="person.id"/>
                </div>
                <script type="text/javascript">
                    var aDiv = document.getElementById("DivContenedor");
                    var prueba = "<t t-esc="person.route"/>";
                </script>
                <div id="DivContenedor"></div>
                <body onLoad="ofertar()">
<!--                 <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                <input type="button" value="Refrescar Mapa" onClick="setroute()"/>
                </div> -->
                <div class="container">
                <!-- <div id="mappy" style="width:100%; height:400px; margin:0px auto 0px auto; border:1px solid #cecece; background:#F5F5F5"></div>-->
                <div class="span4" id="mappy" style="width: 100%; height: 300px"></div>
                <div><p><span id="str"></span></p></div>
                <div>
                <input type="hidden" class="form-control" name="rutas_wp" id="otraprueba" value="Primera prueba"></input>
                </div>
                </div>
                </body>
                <t t-foreach="kwargs" t-as="kwarg">
                <input type="hidden" t-att-name="kwarg[0]" t-att-value="kwarg[1]"/>
                </t>
            </div>
            </form>
        </div>
      </div>
      <div class="oe_structure"/>
    </t>
  </template>

<!-- ################## Creación Ruta  ##################### -->

<template id="crear_ruta_form" name="Crear una nueva Ruta" customize_show="True">
    <t t-call="website.layout">
      <div class="oe_structure"/>
        <div class="container">
        <form action="/crear_ruta/" method="post" class="form-horizontal mt32" enctype="multipart/form-data">
        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
            <h3>Crear una nueva Ruta</h3>

            <div t-attf-class="form-group #{error and 'descripcion' in error and 'has-error' or ''}">
              <label class="col-md-3 col-sm-4 control-label" for="descripcion">Descripcion</label>
              <div class="col-md-7 col-sm-10">
                <input type="text" class="form-control" name="descripcion" required="True" t-attf-value="#{descripcion or ''}"/>
              </div>
            </div>

            <div t-attf-class="form-group #{error and 'fecha_viaje' in error and 'has-error' or ''}">
              <label class="col-md-3 col-sm-4 control-label" for="fecha_viaje">Fecha</label>
              <div class="col-md-7 col-sm-10">
                <input type="datetime-local" class="form-control" name="fecha_viaje" required="True" t-attf-value="#{fecha_viaje or ''}"/>
              </div>
            </div>
            <div t-attf-class="form-group #{error and 'transporteselect' in error and 'has-error' or ''}">
              <label class="col-md-3 col-sm-4 control-label" for="pqrs_type">Tipo de Transporte</label>
              <div class="col-md-7 col-sm-8">
                <select name="transporteselect" class="form-control" required="True">
                    <option value="carro" >Carro </option>
                    <option value="moto" >Moto</option>
                    <option value="taxi" >Taxi</option>
                    <option value="bici" >Bicicleta</option>
                </select>
              </div>
            </div>
            <div t-attf-class="form-group #{error and 'vacantes' in error and 'has-error' or ''}">
              <label class="col-md-3 col-sm-4 control-label" for="vacantes">Vacantes</label>
              <div class="col-md-7 col-sm-10">
                <input type="text" class="form-control" name="vacantes" required="True" t-attf-value="#{descripcion or ''}"/>
              </div>
            </div>
            <div t-attf-class="form-group #{error and 'comentarios' in error and 'has-error' or ''}">
              <label class="col-md-3 col-sm-4 control-label" for="comentarios">Comentarios</label>
              <div class="col-md-7 col-sm-10">
                <input type="text" class="form-control" name="comentarios" t-attf-value="#{comentarios or ''}"/>
              </div>
            </div>
            <div t-attf-class="form-group #{error and 'stateselect' in error and 'has-error' or ''}">
              <label class="col-md-3 col-sm-4 control-label" for="pqrs_type">Estado</label>
              <div class="col-md-7 col-sm-8">
                <select name="stateselect" class="form-control" required="True">
                    <option value="activo" >Activo </option>
                    <option value="inactivo" >Inactivo</option>
                </select>
              </div>
            </div>
            <!-- Mapa -->
            <script type="text/javascript">
                var aDiv = document.getElementById("DivContenedor");
            </script>
            <body onLoad="crear()">
              <div class="container">
                <div class="span4" id="mappy" style="width: 100%; height: 300px"></div>
                  <div>
                    <input type="hidden" class="form-control" name="rutas_wp" id="otraprueba" value="Primera prueba"></input>
                  </div>
                </div>
            </body>
            <!-- Fin Mapa -->
            <t t-foreach="kwargs" t-as="kwarg">
              <input type="hidden" t-att-name="kwarg[0]" t-att-value="kwarg[1]"/>
            </t>
            <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
              <input type="button" class="btn btn-primary btn-lg" value="Borrar Cruces" onClick="setroute()"/>
            </div>
            <div class="form-group">
              <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                <button class="btn btn-primary btn-lg">Crear Ruta</button>
              </div>
            </div>
        </form>
      </div>
    </t>
</template>

<template id="ruta_creada" name="La Ruta ha sido creada">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="oe_structure"/>
        <div class="container">
            <h1>Ruta Creada!</h1>
            <div class="row">
                <div class="col-md-8">
                    <div class="alert alert-success">
                        Tu Ruta ha sido creada exitosamente!.
                        <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                    </div>
            </div>
        </div>
        <div class="oe_structure"/>
      </div>
      </div>
    </t>
</template>

<!-- ################## Buscar Ruta  ##################### -->


<template id="buscar_ruta_form" name="Buscar Ruta" customize_show="True">
    <t t-call="website.layout">
      <div class="oe_structure"/>
        <div class="container">
        <form action="/buscar_ruta/" method="post" class="form-horizontal mt32" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
            <h3>Buscar Ruta</h3>
                <p>
                <script type="text/javascript">
                    var aDiv = document.getElementById("DivContenedor");
                </script>
                <div id="DivContenedor"></div>
                <body onLoad="crear()">
                <div class="container">
                <div class="span4" id="mappy" style="width: 100%; height: 300px"></div>
                <div><p><span id="str"></span></p></div>
                <div>
                <input type="hidden" class="form-control" name="rutas_wp" id="otraprueba" value="Primera prueba"></input>
                </div>
                </div>
                </body>
                </p>
                <t t-foreach="kwargs" t-as="kwarg">
                <input type="hidden" t-att-name="kwarg[0]" t-att-value="kwarg[1]"/>
                </t>
                <div class="form-group">
                <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                    <button class="btn btn-primary btn-lg">Buscar Ruta</button>
                </div>
                </div>
        </form>
      </div>
    </t>
</template>

  <template id="lista_rutas_ofertar">
    <t t-call="website.layout">
      <t t-set="title">Ofertas</t>
      <div class="oe_structure">
        <div class="container">
            <table class="table table-condensed table-bordered table-hover">
                <thead>
                  <tr>
                    <th>Descripción</th>
                  </tr>
                </thead>
            <t t-foreach="lista_ofertas" t-as="oferta">
                <tbody>
                <tr>
                    <td>
                        <p><a t-attf-href="/ofertar/{{ slug(oferta) }}">
                        <t t-esc="oferta.descripcion"/>
                        </a>
                        </p>
                    </td>
                </tr>
             </tbody>
          </t>
         </table>
        </div>
      </div>
    </t>
  </template>

<!-- ################## Ofertar Ruta  ##################### -->

  <template id="ruta_ofertar_form">
    <t t-call="website.layout">
      <t t-set="title">Offer</t>
      <div class="oe_structure"/>
      <div class="oe_structure">
        <div class="container">
            <label>
            <h2>Ruta No <span t-field="person.id"/></h2>
            </label>
            <form action="/ofertar/info_extended/" method="post" class="form-horizontal mt32" enctype="multipart/form-data">
            <div class="form-group">
                <label class="col-md-3 col-sm-4 control-label">Descripcion</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.descripcion"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Hora de Viaje</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.hora_viaje"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Tipo de Transporte</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.tipo_transporte"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Vacantes</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.vacantes"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Integrantes</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.integrantes"/>
                </div>
                <label class="col-md-3 col-sm-4 control-label">Comentarios</label>
                <div class="col-md-7 col-sm-8">
                    <p class="form-control-static" t-esc="person.comentario"/>
                </div>
                <div>
                    <input type="hidden" class="form-control" name="rutas_id" t-att-value="person.id"/>
                </div>
                <script type="text/javascript">
                    var aDiv = document.getElementById("DivContenedor");
                    var prueba = "<t t-esc="person.route"/>";
                </script>
                <div id="DivContenedor"></div>
                <body onLoad="ofertar()">
<!--                 <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                <input type="button" value="Refrescar Mapa" onClick="setroute()"/>
                </div> -->
                <div class="container">
                <!-- <div id="mappy" style="width:100%; height:400px; margin:0px auto 0px auto; border:1px solid #cecece; background:#F5F5F5"></div>-->
                <div class="span4" id="mappy" style="width: 100%; height: 300px"></div>
                <div><p><span id="str"></span></p></div>
                <div>
                <input type="hidden" class="form-control" name="rutas_wp" id="otraprueba" value="Primera prueba"></input>
                </div>
                </div>
                </body>
                <t t-foreach="kwargs" t-as="kwarg">
                <input type="hidden" t-att-name="kwarg[0]" t-att-value="kwarg[1]"/>
                </t>
                <div class="form-group">
                <div style="width:100%; text-align:center; margin:0px auto 0px auto; margin-top:10px;">
                    <button class="btn btn-primary btn-lg">Solicitar</button>
                </div>
                </div>
            </div>
            </form>
        </div>
      </div>
      <div class="oe_structure"/>
    </t>
  </template>

<template id="ruta_no_ofertada" name="La Ruta no pudo ser ofertada">
    <t t-call="website.layout">
      <div id="wrap">
        <div class="oe_structure"/>
        <div class="container">
            <h1>La ruta no pudo ser ofertada!</h1>
            <div class="row">
                <div class="col-md-8">
                    <div class="alert alert-success">
                        Tu Ruta no pudo ser ofertada!, por favor revisa las vacantes disponibles.
                        <button type="button" class="close" data-dismiss="alert">&amp;times;</button>
                    </div>
            </div>
        </div>
        <div class="oe_structure"/>
      </div>
      </div>
    </t>
</template>



</data></openerp>